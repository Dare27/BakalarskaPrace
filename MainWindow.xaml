<Window x:Class="BakalarskaPrace.MainWindow"
        x:Name="window"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:colorpicker="clr-namespace:ColorPicker;assembly=ColorPicker"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Main Window" Height="1080" Width="1920" Background="DarkGray"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized">
    <ScrollViewer HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Disabled">
        <DockPanel>
            <Menu DockPanel.Dock="Top" Panel.ZIndex="1000">
                <MenuItem Header="_File">
                    <MenuItem Header="_Create new animation" Click="Load_Click"/>
                    <MenuItem Header="_Import .png" Click="Load_Click"/>
                    <MenuItem Header="_Export current frame" Click="ExportSingle_Click"/>
                    <MenuItem Header="_Export animation" Click="ExportFull_Click"/>
                    <MenuItem Header="_Export animation as .gif" Click="ExportGif_CLick"/>
                    <MenuItem Header="_Exit" Click="ExitApp_CLick"/>
                </MenuItem>
            </Menu>
            <Grid>
                <Grid Margin="200,0,200,0">
                    <Border>
                        <Grid x:Name="grid" MouseDown="Grid_MouseDown" MouseMove="Grid_MouseMove" MouseUp="Grid_MouseUp" Margin="0,0,0,0">
                            <Grid.RenderTransform>
                                <TranslateTransform x:Name="Grid_TranslateTransform"/>
                            </Grid.RenderTransform>
                            <Canvas Name="paintSurface" MouseWheel="Canvas_MouseWheel" SnapsToDevicePixels="False"  Width="64" Height="64" HorizontalAlignment="Center" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                                <Image x:Name="previewImage" Panel.ZIndex="20" MouseMove="Image_MouseMove" MouseDown="Image_MouseDown" MouseUp="Image_MouseUp" RenderOptions.BitmapScalingMode="NearestNeighbor" RenderOptions.EdgeMode="Aliased" Width="64" Height="64" Opacity="0.75"/>
                                <Image x:Name="image" Panel.ZIndex="10" MouseMove="Image_MouseMove" MouseDown="Image_MouseDown" MouseUp="Image_MouseUp" RenderOptions.BitmapScalingMode="NearestNeighbor" RenderOptions.EdgeMode="Aliased" Width="64" Height="64" />
                                <Canvas.Background>
                                    <DrawingBrush TileMode="Tile" Viewport="0,0,8,8" ViewportUnits="Absolute">
                                        <DrawingBrush.Drawing>
                                            <GeometryDrawing Geometry="M0,0 H1 V1 H2 V2 H1 V1 H0Z" Brush="LightGray"/>
                                        </DrawingBrush.Drawing>
                                    </DrawingBrush>
                                </Canvas.Background>
                                <Canvas.RenderTransform>
                                    <MatrixTransform/>
                                </Canvas.RenderTransform>
                            </Canvas>
                        </Grid>
                    </Border>
                    <Label Name="LabelImages"  Content="1:1" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,0,52" />
                    <Label Name="LabelScale"  Content="1" HorizontalAlignment="Left" VerticalAlignment="Bottom" Margin="0,0,0,26" />
                    <Label Name="LabelPosition"  Content="[width:height] x:y"  VerticalAlignment="Bottom" HorizontalAlignment="Left" RenderTransformOrigin="0.5,1"/>
                    <Button Content="Center" Click="Center_Click" Margin="0,0,3,3" VerticalAlignment="Bottom" HorizontalAlignment="Right"/>
                </Grid>
                <ScrollViewer Width="200" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Left" CanContentScroll="True" BorderThickness="0,0,0,0">
                    <Canvas x:Name="canvas" Background="#FF545454" HorizontalAlignment="Left" Width="200" MinHeight="900" VerticalAlignment="Stretch">
                        <StackPanel>
                            <colorpicker:StandardColorPicker x:Name="colorSelector" Width="199" Height="380" ColorChanged="ColorChanged"/>
                            <CheckBox Content="Alpha Blending" Width="176" Margin="5" Checked="AlphaBlending_Checked" Unchecked="AlphaBlending_Unchecked" IsChecked="True"/>
                            <Label Content="Brush size" Width="176"/>
                            <Slider ValueChanged="BrushSize_ValueChanged" Width="176" Margin="5" Minimum="1" Maximum="8" Value="1" IsSnapToTickEnabled="True" TickFrequency="1" />

                            <WrapPanel Width="178">
                                <Expander Name="toolsExpander" HorizontalAlignment="Left" Header="Tools" ExpandDirection="Down" IsExpanded="True" FontSize="14" >
                                    <WrapPanel>
                                        <Button Name="ToolBrush" Margin="2" Width="40" Height="40" Click="Brush_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/pen.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolEraser" Margin="2" Width="40" Height="40" Click="Eraser_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/eraser.png" Height="26"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolColorPicker" Margin="2" Width="40" Height="40" Click="ColorPicker_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/color-picker.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolShading" Margin="2"  Width="40" Height="40" Click="Shading_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/shading.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolSymmetricBrush" Margin="2" Width="40" Height="40" Click="SymmetricBrush_Click">
                                            <StackPanel>
                                                <!--<Image Source="/Files/images/path.png"/>-->
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolDithering" Margin="2" Width="40" Height="40" Click="Dithering_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/dithering.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolBucket" Margin="2" Width="40" Height="40" Click="Bucket_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/bucket.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolSpecialBucket" Margin="2" Width="40" Height="40" Click="SpecialBucket_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/color-replace.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolLine" Margin="2" Width="40" Height="40" Click="Line_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/line.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolPath" Margin="2" Width="40" Height="40" Click="Path_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/path.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolEllipses" Margin="2" Width="40" Height="40" Click="Ellipses_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/ellipse.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Name="ToolRectangle" Margin="2" Width="40" Height="40" Click="Rectangle_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/rectangle.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                    </WrapPanel>
                                </Expander>
                                <Expander Name="transformExpander" HorizontalAlignment="Left" Header="Tools" ExpandDirection="Down" IsExpanded="True" FontSize="14" >
                                    <WrapPanel>
                                        <Button Margin="2" Width="40" Height="40" Click="Flip_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/flip.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Margin="2" Width="40" Height="40" Click="Rotate_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/rotate.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Margin="2" Width="40" Height="40" Click="Resize_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/resize.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Margin="2" Width="40" Height="40" Click="CropToFit_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/crop.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                        <Button Margin="2" Width="40" Height="40" Click="CenterAlligment_Click">
                                            <StackPanel >
                                                <Image Source="/Files/images/center-alignment.png" Height="30"/>
                                            </StackPanel>
                                        </Button>
                                    </WrapPanel>
                                </Expander>
                                <Expander Name="colorPaletteExpander" HorizontalAlignment="Left" Header="Color Palette" ExpandDirection="Down" IsExpanded="True" FontSize="14" >
                                    <WrapPanel>
                                        <WrapPanel>
                                            <Button Margin="2" Width="40" Height="40" Click="ColorPaletteAdd_Click" ToolTip="Add color to color palette">
                                                <StackPanel >
                                                    <Image Source="/Files/images/plus.png" Height="30"/>
                                                </StackPanel>
                                            </Button>
                                            <Button Margin="2" Width="40" Height="40" Click="ColorPaletteRemove_Click" ToolTip="Remove color from color palette">
                                                <StackPanel >
                                                    <Image Source="/Files/images/minus.png" Height="30"/>
                                                </StackPanel>
                                            </Button>
                                            <Button Margin="2" Width="40" Height="40" Click="ImportColorPalette_Click" ToolTip="Import color palette">
                                            </Button>
                                            <Button Margin="2" Width="40" Height="40" Click="ExportColorPalette_Click" ToolTip="Export color palette">
                                            </Button>
                                            <WrapPanel Name="colorList"/>
                                        </WrapPanel>
                                    </WrapPanel>
                                </Expander>
                            </WrapPanel>
                        </StackPanel>
                        <!--<Button Name="ToolMove" Content="Move" Canvas.Left="82" Canvas.Top="611" Width="66" Click="Move_Click"/>-->
                        <!--<CheckBox Content="Additive" Canvas.Left="10" Canvas.Top="415" Checked="Additive_Checked" Unchecked="Additive_Unchecked" IsChecked="False"/>-->
                    </Canvas>
                </ScrollViewer>
                <ScrollViewer Name="CustomScrollViewer" VerticalScrollBarVisibility="Auto" HorizontalAlignment="Right" CanContentScroll="True" RenderTransformOrigin="0.5,0.5" >
                    <Grid Background="#FF545454" HorizontalAlignment="Right" Width="200" >
                        <StackPanel Width="200">
                            <StackPanel Width="200" Margin="0,5,0,5">
                                <Image Margin="4,2" x:Name="animationPreview" Panel.ZIndex="10" MouseMove="Image_MouseMove" RenderOptions.BitmapScalingMode="NearestNeighbor" RenderOptions.EdgeMode="Aliased" Width="137" Height="137"/>
                                <DockPanel Margin="4,2">
                                    <Label Name="LabelFramesPerSecond"  Content="12" VerticalAlignment="Center" Width="23"/>
                                    <Slider IsSnapToTickEnabled="True" TickFrequency="1" Maximum="60" ValueChanged="FramesPerSecond_ValueChanged" Value="12" Height="18" Margin="0,0,0,0" Width="142"/>
                                    <Button Content=">" Click="Play_Click" Margin="2,0,0,0" Width="20" Height="20"/>
                                </DockPanel>
                                <UniformGrid Rows="1" HorizontalAlignment="Stretch" Margin="4,2">
                                    <Button Content="Previos" Click="Previous_Click" Margin="2,0,0,0"/>
                                    <Button Content="Next" Click="Next_Click" Margin="2,0,0,0"/>
                                </UniformGrid>
                                <UniformGrid Rows="1" HorizontalAlignment="Stretch" Margin="4,2">
                                    <Button Content="Create image" Click="CreateImage_Click" Margin="2,0,0,0"/>
                                    <Button Content="Delete image" Click="DeleteImage_Click" Margin="2,0,0,0"/>
                                </UniformGrid>
                                <UniformGrid Rows="1" HorizontalAlignment="Stretch" Margin="4,2">
                                    <Button Content="Duplicate " Click="DuplicateImage_Click" Margin="2,0,0,0"/>
                                    <Button Content="Merge" Click="MergeImage_Click" Margin="2,0,0,0"/>
                                    <Button Content="Intersect" Click="IntersectImage_Click" Margin="2,0,0,0"/>
                                </UniformGrid>
                                
                                <CheckBox Content="Onion skinning" Checked="OnionSkinning_Checked" Unchecked="OnionSkinning_Unchecked" IsChecked="False" Margin="4,2"/>
                            </StackPanel>
                            <StackPanel Name="ImagePreviews"/>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>
            </Grid>
        </DockPanel>
    </ScrollViewer>
</Window>
